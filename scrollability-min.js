(function(){var j=10;var F=1;var z=720/devicePixelRatio;var e=350;var t=0.5;var B=300;var h=90;var G=0.05;var a=50;var y=2;var E,C,m,l,u,d;var A=0;var s=[];var r=null;var k={horizontal:f,vertical:v};function c(I){I.preventDefault();var J=null;var L=I.target;var P=setTimeout(function(){P=0;J=n(L)},50);i();var M=I.touches[0];m=E=M.clientX;l=C=M.clientY;u=true;d=false;s=[];var K=new Date().getTime();var O=p(I.target);if(O.length){for(var N=0;N<O.length;++N){var Q=w(O[N],m,l,K);if(Q){s.push(Q)}}A=setInterval(q,0)}r=s[0];var R=document;R.addEventListener("touchmove",H,false);R.addEventListener("touchend",S,false);function H(U){U.preventDefault();d=true;if(P){clearTimeout(P);P=0}if(J){o(J);J=null}var W=U.touches[0];m=W.clientX;l=W.clientY;if(s.length>1){for(var T=0;T<s.length;++T){var V=s[T];if(V.disable&&V.disable(m,l,E,C)){V.terminator();s.splice(T,1);break}}}}function S(U){if(P){clearTimeout(P);P=0}if(J){var T=document.createEvent("MouseEvents");T.initMouseEvent("click",true,true,window,1);J[0].dispatchEvent(T);o(J)}R.removeEventListener("touchmove",H,false);R.removeEventListener("touchend",S,false);u=false}}function g(H){r.scrollToTop()}function w(ai,ac,ab,R){var ah=ai.constrained;var L=ai.paginated;var ad=ai.viewport||0;var H=ai.scrollbar;var aj=ai.node[ai.key];var V=ai.min;var W=ai.max;var O=V;var P=Math.round(W/ad)*ad;var N=0;var U=0;var S,aa;var T=ai.bounce;var I=ad*G;var Z=ai.filter(ac,ab);var af=R;var ae=0;var Q=20;var X=false;if(L){var K=Math.round(aj/ad)*ad;V=W=Math.round(K+P)}if(H){ai.node.parentNode.appendChild(H)}function ag(aq,ao){var al=1/(ao-af);af=ao;var am=true;if(u){var ap=(aq-Z)*F;if(!ap){if(!ae){ae=ao}if(ao-ae<Q){return true}}else{ae=0}Z=aq;N=ap/al;if(aj>W&&ah){var ak=aj-W;N*=(1-ak/T)}else{if(aj<V&&ah){var ak=V-aj;N*=(1-ak/T)}}}else{if(L&&!X){X=true;if(Math.abs(aj-W)>I||Math.abs(N)>a){if(aj>W){if(W!=P){W+=ad;V+=ad}}else{if(V!=O){W-=ad;V-=ad}}}}if(aj>W&&ah){if(N>0){var ak=aj-W;var an=(1-ak/T);N=Math.max(N-B*al,0)*an;U=0}else{if(!U){S=aj;aa=W-aj}aj=b(U,S,aa,h);return M(aj,++U<=h&&Math.floor(aj)>W)}}else{if(aj<V&&ah){if(N<0){var ak=V-aj;var an=(1-ak/T);N=Math.min(N+B*al,0)*an;U=0}else{if(!U){S=aj;aa=V-aj}aj=b(U,S,aa,h);return M(aj,++U<=h&&Math.ceil(aj)<V)}}else{if(!U){if(N<0&&N<-z){N=-z}else{if(N>0&&N>z){N=z}}S=N}N=b(U,S,-S,e);if(++U>e||Math.floor(N)==0){am=false}}}}aj+=N*al;return M(aj,am)}function M(ap,ao){aj=ap;ai.node[ai.key]=aj;ai.update(ai.node,aj);var an=-V-W;if(H&&ad<an){var al=ad-y*2;var ak=(al/an)*al;var am=0;if(aj>W){ak=Math.max(ak-(aj-W),5);am=0}else{if(aj<V){ak=Math.max(ak-(V-aj),5);am=(al-ak)}else{am=Math.round((Math.abs(aj)/an)*(al-ak))}}am+=y;H.style.height=Math.round(ak)+"px";x(H,0,Math.round(am));if(d){H.style.opacity="0.8";H.style.webkitTransition="none"}}return ao}function J(){if(L){M(Math.round(aj/ad)*ad)}else{if(aj>W&&ah){M(W)}else{if(aj<V&&ah){M(V)}}}if(H){H.style.opacity="0";H.style.webkitTransition="opacity 0.2s linear"}}function Y(){console.log("Trying to hit the top");M(0,false)}return{filter:ai.filter,disable:ai.disable,animator:ag,terminator:J,scrollToTop:Y}}function q(){var J=new Date().getTime();for(var H=0;H<s.length;++H){var I=s[H];var K=I.filter(m,l);if(!I.animator(K,J)){I.terminator();s.splice(H--,1)}}if(!s.length){i()}}function p(M){var H=[];while(M){if(M.nodeType==1){var L=M.className.split(" ");if(L.indexOf("scrollable")!=-1){var K=L.indexOf("paginated")!=-1;for(var J=0;J<L.length;++J){var I=L[J];if(k[I]){var N=k[I](M);N.key="scrollable_"+I;N.paginated=K;if(!(N.key in M)){M[N.key]=N.initial?N.initial(M):0}H.push(N)}}if(L.indexOf("exclusive")!=-1){break}}}M=M.parentNode}return H}function n(I){var H=[];for(var J=I;J;J=J.parentNode){if(J.nodeType==1){J.className=(J.className?J.className+" ":"")+"touched";H.push(J)}}return H}function o(H){for(var I=0;I<H.length;++I){var J=H[I];J.className=J.className.replace("touched","")}}function i(){if(A){clearInterval(A);A=0;for(var H=0;H<s.length;++H){var I=s[H];I.terminator()}s=[]}}function x(I,H,J){I.style.webkitTransform="translate3d("+(H?(H+"px"):"0")+","+(J?(J+"px"):"0")+",0)"}function D(H){if(!H.scrollableScrollbar){var I=H.scrollableScrollbar=document.createElement("div");I.className="scrollableScrollbar";I.style.cssText=["position: absolute","top: 0","right: 2px","width: 5px","min-height: 6px","background: #666","opacity: 0","-webkit-border-radius: 2px 3px","-webkit-transform: translate3d(0,0,0)","-webkit-transition: opacity 0.15s linear"].join(";")}return H.scrollableScrollbar}function b(I,H,K,J){return(I==J)?H+K:K*(-Math.pow(2,-10*I/J)+1)+H}function f(H){var I=H.parentNode;return{node:H,min:-I.scrollWidth+I.offsetWidth,max:0,viewport:I.offsetWidth,bounce:I.offsetWidth*t,constrained:true,filter:function(J,K){return J},disable:function(K,O,M,J){var N=Math.abs(K-M);var L=Math.abs(O-J);if(L>N&&L>j){return true}},update:function(K,J){x(K,J,K.scrollable_vertical)}}}function v(H){var I=H.parentNode;return{node:H,scrollbar:D(H),min:-I.scrollHeight+I.offsetHeight,max:0,viewport:I.offsetHeight,bounce:I.offsetHeight*t,constrained:true,filter:function(J,K){return K},disable:function(K,O,M,J){var N=Math.abs(K-M);var L=Math.abs(O-J);if(N>L&&N>j){return true}},update:function(K,J){x(K,K.scrollable_horizontal,J)}}}document.addEventListener("touchstart",c,false);document.addEventListener("scroll",g,false)})();